# 🚻 Smart Restroom Integrated Management System

**IoT 센서 실시간 연동을 통한 화장실 이용 현황 및 환경 정보 통합 관제 솔루션**


---


## 1. 프로젝트 개요 (Project Overview)

본 프로젝트는 기존의 정기적 순찰 방식에서 벗어나, **실제 IoT 센서 데이터**를 기반으로 화장실을 스마트하게 관리하기 위해 개발되었습니다. 실시간 이용 현황과 환경 정보를 모니터링하여 관리 효율을 높이고, 최적의 위생 상태를 유지하는 것을 목표로 합니다.


---


## 2. 주요 모니터링 지표 (Monitoring Scope)

본 시스템은 다음과 같은 실제 센서 데이터를 실시간으로 수집하고 관리합니다.

* **이용 현황**: 실시간 칸별 재실 여부(Occupancy) 및 출입 인원 데이터
* **환경 정보**: 화장실 내부 온도(Temp), 습도(Humidity), 악취($NH_3$) 농도 실시간 관측
* **소모품 관리**: 액체 비누 및 페이퍼 타월 재고 관리 모듈


---


## 3. 핵심 기능 (Main Features)

### 📊 실시간 통합 대시보드 (Dashboard)
* **실시간 가시성**: 실제 연동된 센서 수치를 시각화하여 현장에 가지 않고도 화장실의 현재 상태를 즉시 파악합니다.
* **이용객 추이 비교 그래프**: **어제와 오늘의 시간대별(1시간 단위) 이용객 수**를 교차 비교하여 피크 타임을 분석하고 효율적인 청소 및 관리 시점을 도출합니다.
* **직관적 UI**: 재실 상태와 환경 지표를 아이콘과 그래프로 배치하여 관리 편의성을 극대화했습니다.

### 📋 대용량 센서 로그 관리 (Sensor Data Log)
* **데이터 이력 조회**: 누적된 센서의 로우(Raw) 데이터를 기간별, 타입별로 상세 조회합니다.
* **데이터 분석 지원**: 수집된 데이터를 외부 분석에 활용할 수 있도록 **CSV 다운로드 기능**을 포함합니다.

### ⚙️ 스마트 임계치 설정 (Threshold Settings)
* **판단 기준 커스텀**: 각 센서별 **Warning** 및 **Critical** 수치를 관리자가 웹에서 직접 설정할 수 있습니다.
* **유연한 제어**: 현장 상황(계절, 이용객 수 등)에 따라 시스템의 알림 발생 기준을 즉시 변경할 수 있는 유연성을 제공합니다.

### 🔔 알림 이력 추적 (Alert History)
* **이벤트 기록**: 설정한 임계치를 벗어난 모든 이상 징후를 발생 시각, 수치와 함께 기록합니다.
* **스마트 필터링**: 특정 알림 타입별 검색 기능을 통해 과거의 이슈 발생 패턴을 추적할 수 있습니다.

### 🔐 관리자 인증 (Login)
* **접근 제어**: 시스템 보안을 위해 인가된 관리자만 접근할 수 있는 로그인 기능을 제공합니다.



---


## 5. 시스템 아키텍처 (Architecture)

* **Framework**: 전자정부프레임워크 (Spring 기반)
* **ORM**: MyBatis (SQL 매퍼 분리로 쿼리 관리 효율화)
* **Database**: MariaDB


---


## 📂 6. 설치 및 테스트 (Setup & Testing)

### 데이터베이스 설정
`src/main/resources/db/` 폴더에 포함된 SQL 파일을 실행하여 시스템 환경을 구축할 수 있습니다.
1. **`smart_restroom_dump.sql`**: 테이블 구조 및 데이터 생성
2. **`smart_restroom_schema.sql`**: 데이터 구조 생성

### 실행 방법
1. Repository를 Clone 합니다.
2. `src/main/resources/config.properties`에서 DB 연결 정보를 수정합니다.
3. **Maven 빌드** 후 **Tomcat 서버**를 통해 구동합니다.

### ⚠️ 시연 및 테스트 참고 사항 (Note for Demo)
본 프로젝트는 **MQTT 프로토콜**을 통해 실시간 데이터를 수집하도록 설계되었습니다. 하드웨어 또는 브라우저 환경에 따라 직접적인 센서 연결이 어려울 경우, **DB의 테이블 값을 직접 업데이트**하여 대시보드의 실시간 수치 변화 및 임계치 알림 로직을 테스트할 수 있습니다.
